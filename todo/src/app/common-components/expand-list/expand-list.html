<mat-accordion>
  <mat-expansion-panel *ngFor="let panel of panels$ | async ; let i = index" hideToggle>
    <mat-expansion-panel-header>
      <div class="header-content">
        <mat-checkbox *ngIf="panel.showCheckbox" class="checkbox"></mat-checkbox>

        <mat-panel-title>
          {{ panel.title }}
        </mat-panel-title>

        <mat-panel-description>
          <p style="margin-right: 15px;">
            Due: {{ panel.duedate | date:'shortDate' }}, {{ panel.duetime | date:'shortTime' }}
          </p>
          <mat-chip-set>
            <mat-chip *ngFor="let tag of panel.tags" [removable]="false">
                {{ tag }}
            </mat-chip>
          </mat-chip-set>
        </mat-panel-description>

        <span class="actions">
          <button mat-icon-button (click)="editTask(i)" matTooltip="Edit">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="onDelete(panel)" matTooltip="Delete">
            <mat-icon>delete</mat-icon>
          </button>
        </span>
      </div>
    </mat-expansion-panel-header>

    <p>Description: {{ panel.description }}<br>
      Recurring: {{ panel.recurring? panel.recurring.frequency + ' times a ' + panel.recurring.type : 'None' }}</p>
  </mat-expansion-panel>
</mat-accordion>